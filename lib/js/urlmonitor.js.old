// ----------------------------------------------------
// URL MONITOR: watch for search queries and do stuff
// ----------------------------------------------------

// grab URL search query (if any) and save to 'params' object
const urlSearchParams = new URLSearchParams(window.location.search);
const params = Object.fromEntries(urlSearchParams.entries());

// ------------------------------------------------------	
// ACTIONS REQUESTS
// ------------------------------------------------------

if (params.action) {

	switch(params.action) {

		case 'reset': 
		  document.title = 'Reset';
		  localStorage.clear();
		  log('cleared localStorage data','action');
		  break;

		case 'test':
		  document.title = 'Test';
		  log('action is "Test"','action');
		  break;

		default:
		  log(`Requested action: '${params.action}' is not defined`,`action`);  
	}
}

// enable devmode (/?devmode=true)
if (params.devmode === 'true') { 
	devmode = true;
	log('Dev Mode enabled','dev'); 
}